<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="rustdoc">
    <meta name="description" content="API documentation for the Rust `Signer` struct in crate `trust_dns`.">
    <meta name="keywords" content="rust, rustlang, rust-lang, Signer">

    <title>trust_dns::rr::dnssec::Signer - Rust</title>

    <link rel="stylesheet" type="text/css" href="../../../rustdoc.css">
    <link rel="stylesheet" type="text/css" href="../../../main.css">

    
    
</head>
<body class="rustdoc">
    <!--[if lte IE 8]>
    <div class="warning">
        This old browser is unsupported and will most likely display funky
        things.
    </div>
    <![endif]-->

    

    <nav class="sidebar">
        
        <p class='location'><a href='../../index.html'>trust_dns</a>::<wbr><a href='../index.html'>rr</a>::<wbr><a href='index.html'>dnssec</a></p><script>window.sidebarCurrent = {name: 'Signer', ty: 'struct', relpath: ''};</script><script defer src="sidebar-items.js"></script>
    </nav>

    <nav class="sub">
        <form class="search-form js-only">
            <div class="search-container">
                <input class="search-input" name="search"
                       autocomplete="off"
                       placeholder="Click or press ‘S’ to search, ‘?’ for more options…"
                       type="search">
            </div>
        </form>
    </nav>

    <section id='main' class="content struct">
<h1 class='fqn'><span class='in-band'>Struct <a href='../../index.html'>trust_dns</a>::<wbr><a href='../index.html'>rr</a>::<wbr><a href='index.html'>dnssec</a>::<wbr><a class='struct' href=''>Signer</a></span><span class='out-of-band'><span id='render-detail'>
            <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">
                [<span class='inner'>&#x2212;</span>]
            </a>
        </span><a id='src-2446' class='srclink' href='../../../src/trust_dns/rr/dnssec/signer.rs.html#24-28' title='goto source code'>[src]</a></span></h1>
<pre class='rust struct'>pub struct Signer {
    // some fields omitted
}</pre><h2 id='methods'>Methods</h2><h3 class='impl'><code>impl <a class='struct' href='../../../trust_dns/rr/dnssec/struct.Signer.html' title='trust_dns::rr::dnssec::Signer'>Signer</a></code></h3><div class='impl-items'><h4 id='method.new' class='method'><code>fn <a href='#method.new' class='fnname'>new</a>(algorithm: <a class='enum' href='../../../trust_dns/rr/dnssec/enum.Algorithm.html' title='trust_dns::rr::dnssec::Algorithm'>Algorithm</a>, pkey: <a class='struct' href='https://sfackler.github.io/rust-openssl/doc/v0.7.8/openssl/crypto/pkey/struct.PKey.html' title='openssl::crypto::pkey::PKey'>PKey</a>, signer_name: <a class='struct' href='../../../trust_dns/rr/domain/struct.Name.html' title='trust_dns::rr::domain::Name'>Name</a>) -&gt; Self</code></h4>
<h4 id='method.get_algorithm' class='method'><code>fn <a href='#method.get_algorithm' class='fnname'>get_algorithm</a>(&amp;self) -&gt; <a class='enum' href='../../../trust_dns/rr/dnssec/enum.Algorithm.html' title='trust_dns::rr::dnssec::Algorithm'>Algorithm</a></code></h4>
<h4 id='method.get_signer_name' class='method'><code>fn <a href='#method.get_signer_name' class='fnname'>get_signer_name</a>(&amp;self) -&gt; &amp;<a class='struct' href='../../../trust_dns/rr/domain/struct.Name.html' title='trust_dns::rr::domain::Name'>Name</a></code></h4>
<h4 id='method.calculate_key_tag' class='method'><code>fn <a href='#method.calculate_key_tag' class='fnname'>calculate_key_tag</a>(&amp;self) -&gt; <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.u16.html'>u16</a></code></h4>
<h4 id='method.sign_message' class='method'><code>fn <a href='#method.sign_message' class='fnname'>sign_message</a>(&amp;self, message: &amp;<a class='struct' href='../../../trust_dns/op/message/struct.Message.html' title='trust_dns::op::message::Message'>Message</a>) -&gt; <a class='struct' href='https://doc.rust-lang.org/nightly/collections/vec/struct.Vec.html' title='collections::vec::Vec'>Vec</a>&lt;<a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.u8.html'>u8</a>&gt;</code></h4>
<div class='docblock'><p>4.1.8.1 Calculating Transaction and Request SIGs</p>

<p>A response message from a security aware server may optionally
 contain a special SIG at the end of the additional information
 section to authenticate the transaction.</p>

<p>This SIG has a &quot;type covered&quot; field of zero, which is not a valid RR
 type.  It is calculated by using a &quot;data&quot; (see Section 4.1.8) of the
 entire preceding DNS reply message, including DNS header but not the
 IP header and before the reply RR counts have been adjusted for the
 inclusion of any transaction SIG, concatenated with the entire DNS
 query message that produced this response, including the query&#39;s DNS
 header and any request SIGs but not its IP header.  That is</p>

<p>data = full response (less transaction SIG) | full query</p>

<p>Verification of the transaction SIG (which is signed by the server
 host key, not the zone key) by the requesting resolver shows that the
 query and response were not tampered with in transit, that the
 response corresponds to the intended query, and that the response
 comes from the queried server.</p>

<p>A DNS request may be optionally signed by including one or more SIGs
 at the end of the query. Such SIGs are identified by having a &quot;type
 covered&quot; field of zero. They sign the preceding DNS request message
 including DNS header but not including the IP header or any request
 SIGs at the end and before the request RR counts have been adjusted
 for the inclusions of any request SIG(s).</p>

<p>WARNING: Request SIGs are unnecessary for any currently defined
 request other than update [RFC 2136, 2137] and will cause some old
 DNS servers to give an error return or ignore a query.  However, such
 SIGs may in the future be needed for other requests.</p>

<p>Except where needed to authenticate an update or similar privileged
 request, servers are not required to check request SIGs.</p>

<hr>

<p>NOTE: In classic RFC style, this is unclear, it implies that each SIG record is not included in
 the Additional record count, but this makes it more difficult to process and calculate more
 than one SIG0 record. Annoyingly, it means that the Header is signed with different material
 (i.e. additional record count - #SIG0 records), so the exact header sent is NOT the header
 being verified.</p>

<hr>
</div><h4 id='method.hash_rrset' class='method'><code>fn <a href='#method.hash_rrset' class='fnname'>hash_rrset</a>(&amp;self, rrsig: &amp;<a class='struct' href='../../../trust_dns/rr/resource/struct.Record.html' title='trust_dns::rr::resource::Record'>Record</a>, records: <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.slice.html'>&amp;[</a><a class='struct' href='../../../trust_dns/rr/resource/struct.Record.html' title='trust_dns::rr::resource::Record'>Record</a><a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.slice.html'>]</a>) -&gt; <a class='struct' href='https://doc.rust-lang.org/nightly/collections/vec/struct.Vec.html' title='collections::vec::Vec'>Vec</a>&lt;<a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.u8.html'>u8</a>&gt;</code></h4>
<div class='docblock'><p>name is the the name of the records in the rrset</p>
</div><h4 id='method.verify' class='method'><code>fn <a href='#method.verify' class='fnname'>verify</a>(&amp;self, hash: <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.slice.html'>&amp;[</a><a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.u8.html'>u8</a><a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.slice.html'>]</a>, signature: <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.slice.html'>&amp;[</a><a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.u8.html'>u8</a><a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.slice.html'>]</a>) -&gt; <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.bool.html'>bool</a></code></h4>
<div class='docblock'><p>verifies the hash matches the signature with the current key.</p>
</div></div></section>
    <section id='search' class="content hidden"></section>

    <section class="footer"></section>

    <aside id="help" class="hidden">
        <div>
            <h1 class="hidden">Help</h1>

            <div class="shortcuts">
                <h2>Keyboard Shortcuts</h2>

                <dl>
                    <dt>?</dt>
                    <dd>Show this help dialog</dd>
                    <dt>S</dt>
                    <dd>Focus the search field</dd>
                    <dt>&larrb;</dt>
                    <dd>Move up in search results</dd>
                    <dt>&rarrb;</dt>
                    <dd>Move down in search results</dd>
                    <dt>&#9166;</dt>
                    <dd>Go to active search result</dd>
                </dl>
            </div>

            <div class="infos">
                <h2>Search Tricks</h2>

                <p>
                    Prefix searches with a type followed by a colon (e.g.
                    <code>fn:</code>) to restrict the search to a given type.
                </p>

                <p>
                    Accepted types are: <code>fn</code>, <code>mod</code>,
                    <code>struct</code>, <code>enum</code>,
                    <code>trait</code>, <code>type</code>, <code>macro</code>,
                    and <code>const</code>.
                </p>

                <p>
                    Search functions by type signature (e.g.
                    <code>vec -> usize</code>)
                </p>
            </div>
        </div>
    </aside>

    

    <script>
        window.rootPath = "../../../";
        window.currentCrate = "trust_dns";
        window.playgroundUrl = "";
    </script>
    <script src="../../../jquery.js"></script>
    <script src="../../../main.js"></script>
    
    <script defer src="../../../search-index.js"></script>
</body>
</html>